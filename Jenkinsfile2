pipeline{
    environment{
  git = "https://github.com/akshu20791/DevOpsClassCodes/"
  compile = "mvn compile"
}
    agent any
    stages{
        stage('checkout the code from github'){
            steps{
                 git url: "${git}"
                 echo 'github url checkout'
            }
        }
        stage('codecompile with akshat'){
            steps{
                echo 'starting compiling'
                sh '${compile}'
            }
        }
        stage('codetesting with akshat'){
            steps{
                sh 'mvn test'
 
            }
        }
        stage('qa with akshat'){
            steps{
                sh 'mvn checkstyle:checkstyle'
                recordIssues sourceCodeRetention: 'LAST_BUILD', tools: [checkStyle()]
            }
        }
        stage('package with akshat'){
            steps{
                sh 'mvn package'
            }
        }
    }
}
